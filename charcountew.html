<!DOCTYPE html>
<html>
<head>
<title>charcount example</title>
<style type="text/css">

.counter {
font-size:100%;
font-weight:normal;
}

.hidden {
color:#ffffff;
}

.display {
color:#339900;
}

.counter.warn {
    color:#ff6600;
    font-size: 125%;
    font-weight:bold;
}

.counter.over {
color:#990000;
font-size:150%;
font-weight:bold;
}

</style>
</head>
<body>



<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>

<script type="text/javascript">
function handleInput(index, elem) {
    var mid = 500000;
    var warn = 750000;
    var len = this.innerHTML.length;
    var cd = 1000000-len;

    var c = $(this).data("counter");

    if (!c) {
        $(this).after("<div></div>");
        $(this).data("counter", $(this.nextSibling));
        c = $(this).data("counter");
        c.addClass("counter");
        c.addClass("hidden");
    }
    

 
    c.text(len);

    if (len > mid) {
        c.addClass("half");
        c.removeClass("hidden");
    } else if (c.hasClass("half")) {
        c.removeClass("half");
    }

    c.text(len);

    if (len > warn) {
        c.addClass("over");
        c.removeClass("hidden");
    } else if (c.hasClass("over")) {
        c.removeClass("over");
    }
}

function main() {
    var targets = $("div.ms-WPBody");
    targets.keyup(handleInput);
    targets.bind("paste", handleInput);
    targets.each(handleInput);
}

$(document).ready(main);

</script>

<img src="http://intranet.resnet.org:31872/Who/Erica_Waktins/chartest/Shared%20Documents/countbutton.png" width="75" height="37">

</body>
</html>
